<!DOCTYPE html> <!--register html document-->
<html lang="en">
<!--Encoding for text-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register | IS-4543-ON1</title>
   <link rel="stylesheet" href="intro.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css"
   rel="stylesheet">
</head>
<body>
    <!--Container for registration form-->
    <div class="container">
        <h2>Register</h2>
        <!--Username input-->
        <div class="user input-box">
            <input type="text" id="login-username" placeholder="Username">
            <i class="bi bi-person-fill"></i> <!--Person Icon-->
        </div>
        <!--Password input-->
        <div class="password input-box">
              <input type="password" id="login-password" placeholder="Password">
              <i class="bi bi-lock-fill"></i> <!--Lock Icon-->
        </div>
        <!--Confirm password input-->    
        <div class="confirm-password input-box">
             <input type="password" id="login-confirm-password" placeholder="Confirm Password">
             <i class="bi bi-lock-fill"></i> <!--Lock Icon-->
        </div>
        <!-- error message ABOVE reg button -->
        <div id="register-error" class="error-message"></div>
        <!--Register Button-->
        <button class="btn register" id="register">Register</button>
        <!-- Already have account link -->
        <div class="login-link">
          Already have an account? 
          <a href="login.html">Sign in</a>
        </div>
    </div>
<!--Form validation and storage-->
<script>
    const usernameInput = document.getElementById('login-username');
    const passwordInput = document.getElementById('login-password');
    const confirmPasswordInput = document.getElementById('login-confirm-password');
    const registerButton = document.getElementById('register');
    const registerError = document.getElementById('register-error'); // NEW

    registerButton.addEventListener('click', () => {
      const username = usernameInput.value;
      const password = passwordInput.value;
      const confirmPassword = confirmPasswordInput.value;
          // clear old message
    registerError.textContent = '';

    // Ensure all fields are filled out
    if (!username || !password || !confirmPassword) {
      registerError.textContent = 'Please fill out all fields.';
      return;
    }

    // Ensure passwords match
    if (password !== confirmPassword) {
      registerError.textContent = 'Passwords do not match. Please try again.';
      return;
    }

    // Save credentials to localStorage 
    localStorage.setItem('username', username);
    localStorage.setItem('password', password);

    // Redirect straight to login page
    window.location.href = 'login.html';
  });
</script>
</body>
</html>